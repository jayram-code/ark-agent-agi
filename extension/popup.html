<!doctype html>
<html>

<head>
  <meta charset="utf-8" />
  <title>ARK Enterprise</title>
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <style>
    /* Minimal styling - you can reuse your dark theme */
    body {
      font-family: Inter, Arial;
      margin: 0;
      padding: 12px;
      background: #071018;
      color: #e6eef6;
    }

    .tabs {
      display: flex;
      gap: 12px;
      margin-bottom: 12px;
    }

    .tab {
      padding: 8px 14px;
      border-radius: 6px;
      cursor: pointer;
      background: transparent;
      color: #aebfd3;
    }

    .tab.active {
      background: #0b2b4a;
      color: #fff;
    }

    textarea {
      width: 100%;
      height: 120px;
      background: #08141e;
      color: #e6eef6;
      border: 1px solid #102233;
      padding: 10px;
      border-radius: 8px;
    }

    button {
      padding: 10px 14px;
      border-radius: 8px;
      background: linear-gradient(90deg, #3b82f6, #9b5cf6);
      color: #fff;
      border: none;
      cursor: pointer;
    }

    .secondary {
      background: #0b2b4a;
      color: #b7cce0;
      border: 1px solid #1e394f;
      margin-top: 8px;
    }

    .small {
      font-size: 12px;
      color: #9fb0c3;
    }

    .row {
      display: flex;
      gap: 10px;
      align-items: center;
      margin-top: 8px;
    }

    .progress {
      width: 100%;
      background: #081a24;
      border-radius: 8px;
      height: 10px;
      overflow: hidden;
    }

    .bar {
      height: 100%;
      background: linear-gradient(90deg, #36d1dc, #5b86e5);
      width: 0%;
    }

    .history {
      height: 220px;
      overflow: auto;
      border: 1px solid #0f2b3f;
      padding: 8px;
      border-radius: 8px;
      margin-top: 8px;
    }

    .muted {
      color: #87a0b8;
      font-size: 13px;
    }
  </style>
</head>

<body>
  <h3 style="margin:0 0 6px 0">ARK Enterprise</h3>
  <div class="tabs">
    <div id="tab-single" class="tab active">Single Email</div>
    <div id="tab-batch" class="tab">Inbox Batch</div>
    <div id="tab-history" class="tab">History</div>
  </div>

  <div id="single-view">
    <button id="btn-extract">Extract from Gmail</button>
    <div style="height:8px"></div>
    <textarea id="email-text" placeholder="Paste email or click 'Extract from Gmail'"></textarea>
    <div class="row">
      <select id="quick-route">
        <option value="auto">Auto-Route</option>
        <option value="support">Support</option>
        <option value="tech">Tech</option>
        <option value="finance">Finance</option>
        <option value="hr">HR</option>
      </select>
      <button id="btn-analyze">Analyze & Route</button>
      <button id="btn-template" class="secondary">Use Template</button>
    </div>

    <div id="single-result" style="margin-top:12px"></div>
  </div>

  <div id="batch-view" style="display:none">
    <div class="muted">Scan your last 200-300 emails, categorize them, and auto-route to teams.</div>
    <div style="height:12px"></div>
    <button id="btn-scan">Scan Inbox (200-300)</button>
    <div style="height:8px"></div>
    <div class="muted">Or upload a CSV file:</div>
    <input type="file" id="csv-file" accept=".csv" style="margin-top:8px" />
    <button id="btn-upload" class="secondary">Upload CSV & Process</button>
    <div style="height:12px"></div>
    <div class="progress">
      <div id="progress-bar" class="bar"></div>
    </div>
    <div id="batch-status" class="muted" style="margin-top:8px"></div>
    <div style="height:12px"></div>
    <button id="btn-daily" style="width:100%">Generate Daily Briefing</button>
  </div>

  <div id="history-view" style="display:none">
    <div class="history" id="history-list"></div>
    <div style="display:flex; gap:10px; margin-top:8px">
      <button id="btn-export-csv" class="secondary">Export CSV</button>
      <button id="btn-export-json" class="secondary">Export JSON</button>
      <button id="btn-clear-history" class="secondary">Clear History</button>
    </div>
  </div>

  <div style="height:10px"></div>
  <div class="muted small">Version v1.1 â€” API & settings in Options</div>

  <script src="popup.js"></script>
</body>

</html>